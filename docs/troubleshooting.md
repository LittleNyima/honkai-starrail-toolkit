# 常见问题解答

## 抽卡导入/导出相关

### 为什么我无法自动获取到 API URL？

省流版：进入游戏、查询一次抽卡记录，然后退出游戏再点击同步，大概率能解决这个问题。

详细版：API URL 一般只有约一天的有效期，过期后需要重新获取。在游戏启动时，会占用缓存文件，导致程序无法读取缓存文件。所以需要退出游戏后再查询。除了上述原因外，也有可能是因为游戏未正确安装导致无法从注册表项读取游戏安装位置，如果问题持续无法解决，可以尝试重装游戏或者联系仓库作者尝试解决。

### 为什么我成功导入抽卡数据之后，程序还是会报错？

目前的版本中，使用命令行导入抽卡数据后，程序会尝试检测 api url 并同步一次抽卡数据。如果你仅需要导入，而不需要同步数据，那么只要出现 `Successfully load gacha data from ...` 即可，导出相关报错可以忽略。

### 我该如何反馈问题？

请前往 issue 页面，如果出现错误，请描述错误出现的情况和错误的现象。如果有报错信息，请截图或复制报错信息。

## 通用

### 我的缓存数据保存在哪里？

在用户文件夹下的 `.starrail` 目录下。对于 Windows 用户，这个文件夹通常在 `C:\\Users\{你的用户名}\.starrail\`；对于 macOS 或者其他类 Unix 平台的用户，该目录位于 `~/.starrail/`。**请谨慎保管这个文件夹，如果该文件夹被删除，你的所有配置和保存的抽卡数据将丢失。**如果你需要更换设备，只要将该文件夹拷贝到对应位置，即可完成迁移。

注：除了程序本身和这个文件夹，本应用不会产生其他文件，如果要移除程序，删除这两个文件夹即可完成。

### 缓存文件夹中都有什么内容？

目前缓存文件夹中有以下内容：

- 命令行模式下的程序配置文件 `config.json`
- 图形界面下的程序配置文件 `qconfig.json`
- 用户基本信息 `accounts.json`
- 用户抽卡信息，保存在 `database` 目录下，文件名格式为 `{uid}.sqlite3`

### 我可不可以对配置文件的内容进行定制？

可以，你可以定制 `config.json` 与 `qconfig.json` 两个文件，其他文件请不要擅自改动，否则可能引发未知错误。配置文件是 json 文件，可以根据下面的说明进行配置。**注意：请谨慎操作这两个文件，不合法的修改可能会导致程序出现未知的错误，如果你不知道自己在做什么，最好的方法是什么都不要做。**由于程序版本更新的原因，实际上可能会有一些下面没有展示的字段，这些字段通常没什么用，可以直接删掉。

`config.json` 格式为：

```json
{
  "locale": "zhs", // 程序语言，目前支持简体中文（zhs）和英文（en）
  "check_update": true, // 是否检查自动更新，建议设置为true
  "log_level": "DEBUG" // 日志等级，详见仓库README中的命令行参数说明
}
```

`qconfig.json` 格式为（本文件的各项配置都可以在 app 中设置，可以不必手动修改。如果想要自行修改，请仔细核对下面的说明）：

```json
{
    "StarRailToolkit": {
        "CheckUpdate": true, // 启动时检查版本更新，true 为检查，false 为不检查
        "Locale": "auto" // 程序语言，auto 为跟随系统设置，zh_CN 为简体中文，en_US 为英语
    },
    "QFluentWidgets": {
        "ThemeColor": "#ff0077dd", // ARGB 格式的主题颜色，不过修改实际上不会生效，主题色是固定的
        "ThemeMode": "Auto" // 夜间模式，"Dark"为夜间模式，"Light"为浅色模式，"Auto"为跟随系统设定
    }
}
```
